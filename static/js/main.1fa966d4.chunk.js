(this["webpackJsonpreact-tic-tac-toe-improved"]=this["webpackJsonpreact-tic-tac-toe-improved"]||[]).push([[0],{14:function(e,t,r){},15:function(e,t,r){e.exports=r.p+"static/media/stars.44d33466.jpg"},8:function(e,t,r){e.exports=r(9)},9:function(e,t,r){"use strict";r.r(t);var a=r(3),n=r(4),s=r(1),u=r(7),o=r(6),l=r(0),i=r.n(l),c=r(5),h=r.n(c);r(14),r(15);function f(e){return i.a.createElement("button",{className:"square",onClick:e.onClick},e.value)}var v=function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).state={squares:Array(9).fill(null),xTurn:!0,isTorus:!1,extraBoard:!1},n.changeSize=n.changeSize.bind(Object(s.a)(n)),n.opponentMove=n.opponentMove.bind(Object(s.a)(n)),n}return Object(n.a)(r,[{key:"renderSquare",value:function(e){var t=this;return i.a.createElement(f,{value:this.state.squares[e],onClick:function(){return t.squareClick(e)},key:e})}},{key:"squareClick",value:function(e){var t=this.state.squares.slice();m(t,this.state.isTorus)||t[e]||(t[e]=this.state.xTurn?"X":"O",this.setState({squares:t,xTurn:!this.state.xTurn}))}},{key:"changeSize",value:function(e){this.setState({squares:Array(Math.pow(e.target.value,2)).fill(null),xTurn:!0})}},{key:"newGame",value:function(){var e=this.state.squares.length;this.setState({squares:Array(e).fill(null),xTurn:!0})}},{key:"opponentMove",value:function(){for(var e=this.state.squares.slice(),t=Math.sqrt(e.length),r=p(this.state.squares,this.state.isTorus),a=[],n=[],s=0;s<r.length;s++){var u=r[s],o=u.map((function(t){return e[t]}));o.some((function(e){return"X"===e}))?o.some((function(e){return"O"===e}))||a.push(u):n.push(u)}for(var l=a[0],i=0,c=0;c<a.length;c++){for(var h=a[c],f=0,v=0;v<h.length;v++)"X"===e[h[v]]&&(f+=1);f>i&&(i=f,l=h)}for(var m=n[0],d=0,g=0;g<n.length;g++){for(var b=n[g],q=0,E=0;E<b.length;E++)"O"===e[b[E]]&&(q+=1);q>d&&(d=q,m=b)}i!==t-1&&0!==n.length||(m=l);for(var T=0;T<t;T++)if(null==e[m[T]])return void this.squareClick(m[T])}},{key:"componentDidUpdate",value:function(e,t){var r=m(this.state.squares,this.state.isTorus);this.state.xTurn!==t.xTurn&&(this.state.xTurn||r||this.opponentMove())}},{key:"render",value:function(){var e=this,t="Next player: "+(this.state.xTurn?"X":"O"),r=this.state.squares.slice(),a=Math.sqrt(r.length),n=m(r,this.state.isTorus);n&&(t="Winner: "+n);for(var s=[],u=0;u<Math.sqrt(this.state.squares.length);u++)s.push(u);for(var o=[],l=0;l<Math.sqrt(this.state.squares.length);l++){for(var c=[],h=0;h<Math.sqrt(this.state.squares.length);h++){var f=h+l*Math.sqrt(this.state.squares.length);c.push(this.renderSquare(f))}o.push(c)}for(var v=s.map((function(e){return i.a.createElement("div",{className:"board-row",key:e},o[e])})),p=s.map((function(e){return i.a.createElement("div",{className:"board-row board-row-greyed",key:e},o[e])})),d=[],g=0;g<10;g++)d.push(i.a.createElement("option",{value:g,key:g},g,"x",g));return i.a.createElement("div",{id:"page"},i.a.createElement("div",{id:"fullBoard"},i.a.createElement("div",{id:"mainBoard",style:{float:"left"}},i.a.createElement("div",{className:"status"},t),v,this.state.extraBoard?p:"",i.a.createElement("br",null),this.state.isTorus?"Playing on a torus":""),i.a.createElement("br",null),i.a.createElement("div",{id:"boardControls"},i.a.createElement("button",{onClick:function(){return e.newGame()}},"New Game"),i.a.createElement("br",null),i.a.createElement("label",{class:"controlDesc",htmlFor:"numCells"},"Choose the board size:"),i.a.createElement("br",null),i.a.createElement("select",{name:"numCells",id:"numCells",defaultValue:a,onChange:this.changeSize},d),i.a.createElement("br",null),i.a.createElement("span",{class:"controlDesc"},"Change the type of board:"),i.a.createElement("br",null),i.a.createElement("button",{onClick:function(){return e.state.isTorus?e.setState({isTorus:!1,extraBoard:!1}):e.setState({isTorus:!0})},id:"torusBoardButton"},this.state.isTorus?"Normal Board":"Torus Board"),i.a.createElement("br",null),i.a.createElement("br",null),this.state.isTorus?i.a.createElement("button",{onClick:function(){return e.state.extraBoard?e.setState({extraBoard:!1}):e.setState({extraBoard:!0})},id:"helperBoardButton"},"Show helper board"):"")))}}]),r}(i.a.Component);function p(e,t){for(var r=Math.sqrt(e.length),a=[],n=[],s=[],u=0;u<r;u++){for(var o=[],l=[],i=0;i<r;i++)o.push(u+i*r),l.push(u*r+i);a.push(o),a.push(l),n.push(u*(r+1)),s.push((1+u)*(r-1))}if(a.push(n),a.push(s),t&&e.length>4)for(var c=1;c<r;c++){for(var h=[],f=[],v=0;v<r-c;v++)h.push(v*(r+1)+c),f.push((1+v)*(r-1)-c);for(var p=r-c;p<r;p++)h.push(p*(r+1)+c-r),f.push((1+p)*(r-1)-c+r);a.push(h),a.push(f)}return a}function m(e,t){var r=Math.sqrt(e.length),a=p(e,t);if(0===r)return"X";for(var n=function(t){var r=a[t].map((function(t){return e[t]}));if(r[0]&&r.every((function(e){return e===r[0]})))return{v:r[0]}},s=0;s<a.length;s++){var u=n(s);if("object"===typeof u)return u.v}if(e.length<9)return null;for(var o=0;o<a.length;o++){for(var l=a[o].map((function(t){return e[t]})),i=[],c=0;c<a.length-1;c++)for(var h=c+1;h<a.length;h++)i.push([l[c],l[h]]);if(!i.some((function(e){return e[0]&&e[1]&&e[0]!==e[1]})))return null}return"Tie"}h.a.render(i.a.createElement(v,null),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.1fa966d4.chunk.js.map